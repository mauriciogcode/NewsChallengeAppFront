<p-toast position="top-center"></p-toast>

<p-dialog 
  [(visible)]="visible" 
  [modal]="true" 
  [style]="{width: '400px', padding: '0'}" 
  [showHeader]="false"
  [draggable]="false" 
  [resizable]="false"
  [closable]="!loading"
  styleClass="custom-modal">
  
  <div class="modal-container">
    <div class="modal-header">
      <h3>Nueva Noticia</h3>
    </div>
    
    <div class="modal-body">
      <form [formGroup]="newsForm" class="p-fluid">
        <div class="form-group">
          <label>Completar los siguientes datos:</label>
        </div>
        
        <div class="form-group">
          <label for="imageUrl">Url</label>
          <input id="imageUrl" type="text" formControlName="imageUrl" class="form-control" [disabled]="loading">
          <small *ngIf="newsForm.get('imageUrl')?.invalid && newsForm.get('imageUrl')?.touched" class="error-message">
            Este campo es requerido
          </small>
        </div>
        
        <div class="form-group">
          <label for="author">Autor</label>
          <input id="author" type="text" formControlName="author" class="form-control" [disabled]="loading">
          <small *ngIf="newsForm.get('author')?.invalid && newsForm.get('author')?.touched" class="error-message">
            Este campo es requerido
          </small>
        </div>
        
        <div class="form-group">
          <label for="title">Título</label>
          <input id="title" type="text" formControlName="title" class="form-control" [disabled]="loading">
          <small *ngIf="newsForm.get('title')?.invalid && newsForm.get('title')?.touched" class="error-message">
            Este campo es requerido
          </small>
        </div>
        
        <div class="form-group">
          <label for="subtitle">Subtítulo</label>
          <input id="subtitle" type="text" formControlName="subtitle" class="form-control" [disabled]="loading">
        </div>
        
        <div class="form-group">
          <label for="body">Descripción</label>
          <textarea id="body" formControlName="body" class="form-control" rows="5" [disabled]="loading"></textarea>
          <small *ngIf="newsForm.get('body')?.invalid && newsForm.get('body')?.touched" class="error-message">
            Este campo es requerido
          </small>
        </div>
      </form>
    </div>
    
    <div class="modal-footer">
      <button class="btn-cancel" (click)="hide()" [disabled]="loading">Cancelar</button>
      <button class="btn-save" (click)="onSave()" [disabled]="loading">
        <span *ngIf="!loading">Guardar</span>
        <span *ngIf="loading">Guardando...</span>
      </button>
    </div>
  </div>
</p-dialog>